import React, { MutableRefObject } from 'react';
import { ImageProps } from 'next/image';
import { ImageOptions, ConfigOptions, AnalyticsOptions, VideoOptions } from '@cloudinary-util/url-loader';

type CldImageProps = Omit<ImageProps, 'src'> & ImageOptions & {
    config?: ConfigOptions;
    preserveTransformations?: boolean;
    src: string;
    unoptimized?: boolean;
};
declare const CldImage: React.ForwardRefExoticComponent<Omit<ImageProps, "src"> & ImageOptions & {
    config?: ConfigOptions | undefined;
    preserveTransformations?: boolean | undefined;
    src: string;
    unoptimized?: boolean | undefined;
} & React.RefAttributes<HTMLImageElement>>;

type CldOgImageProps = CldImageProps & {
    excludeTags?: Array<string>;
    keys?: object;
    twitterTitle?: string;
};
declare const CldOgImage: ({ excludeTags, twitterTitle, keys, ...props }: CldOgImageProps) => React.JSX.Element;

type CldUploadWidgetCloudinaryInstance = any;
type CldUploadWidgetWidgetInstance = any;
type CustomURL = `https://${string}.${string}`;
interface CldUploadWidgetResults {
    event?: string;
    info?: string | CldUploadWidgetInfo;
}
interface CldUploadWidgetInfo {
    access_mode: 'public' | 'authenticated';
    api_key: string;
    asset_id: string;
    batchId: string;
    bytes: number;
    context: Record<string, Record<string, string>>;
    created_at: string;
    etag: string;
    folder: string;
    format: string;
    height: number;
    hook_execution: Record<string, unknown>;
    id: string;
    info: Record<string, unknown>;
    original_filename: string;
    pages: number;
    path: string;
    placeholder: boolean;
    public_id: string;
    resource_type: 'image' | 'raw' | 'video' | 'auto';
    secure_url: string;
    signature: string;
    tags: string[];
    thumbnail_url: string;
    type: 'upload' | 'private' | 'authenticated';
    url: string;
    version: number;
    width: number;
    [key: string]: unknown;
}
type CldUploadWidgetDestroyInstanceMethodOptions = {
    removeThumbnails: boolean;
};
type CldUploadWidgetCloseInstanceMethodOptions = {
    quiet: boolean;
};
type CldUploadWidgetOpenInstanceMethodOptions = {
    files: CustomURL[];
};
type CldUploadWidgetOpenWidgetSources = 'local' | 'url' | 'camera' | 'image_search' | 'google_drive' | 'dropbox' | 'facebook' | 'instagram' | 'shutterstock' | 'getty' | 'istock' | 'unsplash' | null;
type CldUploadWidgetUpdateInstanceMethodOptions = Omit<CldUploadWidgetPropsOptions, "secure" | "uploadSignature" | "getTags" | "preBatch" | "inlineContainer" | "fieldName"> & {
    cloudName: string;
    uploadPreset: string;
};
interface CldUploadWidgetInstanceMethods {
    close: (options?: CldUploadWidgetCloseInstanceMethodOptions) => void;
    destroy: (options?: CldUploadWidgetDestroyInstanceMethodOptions) => Promise<void>;
    hide: () => void;
    isDestroyed: () => boolean;
    isMinimized: () => boolean;
    isShowing: () => boolean;
    minimize: () => void;
    open: (widgetSource?: CldUploadWidgetOpenWidgetSources, options?: CldUploadWidgetOpenInstanceMethodOptions) => void;
    show: () => void;
    update: (options: CldUploadWidgetUpdateInstanceMethodOptions) => void;
}
type CldUploadWidgetError = {
    status: string;
    statusText: string;
} | string | null;
interface CldUploadWidgetProps {
    children?: ({ cloudinary, widget, open, results, error }: CldUploadWidgetPropsChildren) => JSX.Element;
    onError?: CldUploadEventCallbackError;
    onOpen?: CldUploadEventCallbackWidgetOnly;
    onUpload?: CldUploadEventCallbackNoOptions;
    onAbort?: CldUploadEventCallback;
    onBatchCancelled?: CldUploadEventCallback;
    onClose?: CldUploadEventCallbackWidgetOnly;
    onDisplayChanged?: CldUploadEventCallback;
    onPublicId?: CldUploadEventCallback;
    onQueuesEnd?: CldUploadEventCallback;
    onQueuesStart?: CldUploadEventCallback;
    onRetry?: CldUploadEventCallback;
    onShowCompleted?: CldUploadEventCallback;
    onSourceChanged?: CldUploadEventCallback;
    onSuccess?: CldUploadEventCallback;
    onTags?: CldUploadEventCallback;
    onUploadAdded?: CldUploadEventCallback;
    options?: CldUploadWidgetPropsOptions;
    signatureEndpoint?: URL | RequestInfo;
    uploadPreset?: string;
}
type CldUploadWidgetPropsChildren = {
    cloudinary: CldUploadWidgetCloudinaryInstance;
    widget: CldUploadWidgetWidgetInstance;
    error?: CldUploadWidgetError;
    isLoading?: boolean;
    results?: CldUploadWidgetResults;
} & CldUploadWidgetInstanceMethods;
interface CldUploadWidgetPropsOptions {
    encryption?: {
        key: string;
        iv: string;
    };
    defaultSource?: string;
    maxFiles?: number;
    multiple?: boolean;
    sources?: Array<"camera" | "dropbox" | "facebook" | "gettyimages" | "google_drive" | "image_search" | "instagram" | "istock" | "local" | "shutterstock" | "unsplash" | "url">;
    cropping?: boolean;
    croppingAspectRatio?: number;
    croppingCoordinatesMode?: string;
    croppingDefaultSelectionRatio?: number;
    croppingShowBackButton?: boolean;
    croppingShowDimensions?: boolean;
    showSkipCropButton?: boolean;
    dropboxAppKey?: string;
    facebookAppId?: string;
    googleApiKey?: string;
    googleDriveClientId?: string;
    instagramClientId?: string;
    searchByRights?: boolean;
    searchBySites?: Array<string>;
    context?: object;
    folder?: string;
    publicId?: string;
    resourceType?: string;
    tags?: Array<string>;
    uploadSignature?: string | Function;
    uploadSignatureTimestamp?: number;
    clientAllowedFormats?: Array<string>;
    croppingValidateDimensions?: boolean;
    maxChunkSize?: number;
    maxImageFileSize?: number;
    maxImageHeight?: number;
    maxImageWidth?: number;
    maxFileSize?: number;
    maxRawFileSize?: number;
    maxVideoFileSize?: number;
    minImageHeight?: number;
    minImageWidth?: number;
    validateMaxWidthHeight?: boolean;
    fieldName?: string;
    form?: string;
    thumbnails?: string;
    thumbnailTransformation?: string | Array<object>;
    buttonCaption?: string;
    buttonClass?: string;
    text?: object;
    theme?: string;
    styles?: object;
    autoMinimize?: boolean;
    getTags?: Function;
    getUploadPresets?: Function;
    inlineContainer?: any;
    language?: string;
    preBatch?: Function;
    prepareUploadParams?: Function;
    queueViewPosition?: string;
    showAdvancedOptions?: boolean;
    showCompletedButton?: boolean;
    showInsecurePreview?: boolean;
    showPoweredBy?: boolean;
    showUploadMoreButton?: boolean;
    singleUploadAutoClose?: boolean;
    detection?: string;
    on_success?: string;
}
type CldUploadEventCallback = (results: CldUploadWidgetResults, widget: CldUploadEventCallbackWidget) => void;
type CldUploadEventCallbackNoOptions = (results: CldUploadWidgetResults, widget: CldUploadWidgetWidgetInstance) => void;
type CldUploadEventCallbackWidgetOnly = (widget: CldUploadWidgetWidgetInstance) => void;
type CldUploadEventCallbackError = (error: CldUploadWidgetError, widget: CldUploadWidgetWidgetInstance) => void;
type CldUploadEventCallbackWidget = {
    widget: CldUploadWidgetWidgetInstance;
} & CldUploadWidgetInstanceMethods;

declare const CldUploadWidget: ({ children, onClose, onError, onOpen, onUpload, options, signatureEndpoint, uploadPreset, ...props }: CldUploadWidgetProps) => React.JSX.Element;

interface CldUploadButtonProps extends Omit<CldUploadWidgetProps, 'children'> {
    className?: string;
    children?: JSX.Element | string | Array<JSX.Element | string>;
    onClick?: Function;
}
declare const CldUploadButton: ({ className, children, onClick, onError, onOpen, onUpload, onAbort, onBatchCancelled, onClose, onDisplayChanged, onPublicId, onQueuesEnd, onQueuesStart, onRetry, onShowCompleted, onSourceChanged, onSuccess, onTags, onUploadAdded, options, signatureEndpoint, uploadPreset, ...props }: CldUploadButtonProps) => React.JSX.Element;

interface CloudinaryVideoPlayer {
    on: Function;
}
interface CloudinaryVideoPlayerOptionsLogo {
    logoImageUrl?: string;
    logoOnclickUrl?: string;
    showLogo?: boolean;
}
interface CloudinaryVideoPlayerOptions extends CloudinaryVideoPlayerOptionsLogo {
    aiHighlightsGraph?: boolean;
    bigPlayButton?: boolean | string;
    colors?: CloudinaryVideoPlayerOptionsColors;
    controlBar?: {
        pictureInPictureToggle?: boolean;
        chaptersButton?: boolean;
    };
    controls?: boolean;
    floatingWhenNotVisible?: string;
    fluid?: boolean;
    fontFace?: string;
    hideContextMenu?: boolean;
    interactionAreas?: any;
    playbackRates?: Array<any>;
    playlistWidget?: {
        direction?: string;
        total?: string;
    };
    posterOptions?: CloudinaryVideoPlayerOptionPosterOptions;
    showJumpControls?: boolean;
    seekThumbnails?: boolean;
    videoJS?: object;
    autoPlay?: string | boolean | undefined;
    autoplay?: string | boolean | undefined;
    autoplayMode?: string;
    autoShowRecommendations?: boolean;
    loop?: boolean;
    maxTries?: Number;
    muted?: boolean;
    playedEventPercents?: number[];
    playedEventTimes?: null | Array<any>;
    playsinline?: boolean;
    videoTimeout?: number;
    withCredentials?: boolean;
    chapters?: object;
    preload?: string;
    publicId?: string;
    sourceTransformation?: object;
    sourceTypes?: Array<string>;
    transformation?: Array<object> | object;
    ads?: {
        adTagUrl?: string;
        adsInPlaylist?: string;
        showCountdown?: boolean;
        adLabel?: string;
        locale?: string;
        prerollTimeout?: number;
        postrollTimeout?: number;
    };
    analytics?: boolean;
    allowUsageReport?: Boolean;
    cloud_name?: string;
    cname?: string;
    privateCdn?: boolean;
    queryParams?: Record<string, string | number | boolean> | string;
    secure?: boolean;
    secureDistribution?: string;
    language?: string;
    languages?: Record<string, object>;
}
interface CloudinaryVideoPlayerOptionsColors {
    accent?: string;
    base?: string;
    text?: string;
}
interface CloudinaryVideoPlayerOptionPosterOptions {
    publicId: string;
}

/**
 * getCldImageUrl
 */
interface GetCldImageUrlOptions extends ImageOptions {
}
interface GetCldImageUrlConfig extends ConfigOptions {
}
interface GetCldImageUrlAnalytics extends AnalyticsOptions {
}
interface GetCldImageUrl {
    options: GetCldImageUrlOptions;
    config?: GetCldImageUrlConfig;
    analytics?: GetCldImageUrlAnalytics;
}
declare function getCldImageUrl(options: GetCldImageUrlOptions, config?: GetCldImageUrlConfig, analytics?: GetCldImageUrlAnalytics): string;

/**
 * getCldVideoUrl
 */
interface GetCldVideoUrlOptions extends VideoOptions {
}
interface GetCldVideoUrlConfig extends ConfigOptions {
}
interface GetCldVideoUrlAnalytics extends AnalyticsOptions {
}
declare function getCldVideoUrl(options: GetCldVideoUrlOptions, config?: GetCldVideoUrlConfig, analytics?: GetCldVideoUrlAnalytics): string;

type CldVideoPlayerProps = Omit<CloudinaryVideoPlayerOptions, "cloud_name" | "autoplayMode" | "publicId" | "secure" | "showLogo" | "logoImageUrl" | "logoOnclickUrl"> & {
    className?: string;
    height: string | number;
    id?: string;
    logo?: boolean | CldVideoPlayerPropsLogo;
    onDataLoad?: Function;
    onError?: Function;
    onMetadataLoad?: Function;
    onPause?: Function;
    onPlay?: Function;
    onEnded?: Function;
    playerRef?: MutableRefObject<CloudinaryVideoPlayer | null>;
    poster?: string | GetCldImageUrlOptions | GetCldVideoUrlOptions;
    src: string;
    videoRef?: MutableRefObject<HTMLVideoElement | null>;
    quality?: string | number;
    width: string | number;
};
interface CldVideoPlayerPropsColors extends CloudinaryVideoPlayerOptionsColors {
}
interface CldVideoPlayerPropsLogo {
    imageUrl?: CloudinaryVideoPlayerOptionsLogo['logoImageUrl'];
    logo?: boolean;
    onClickUrl?: CloudinaryVideoPlayerOptionsLogo['logoOnclickUrl'];
}

declare const CldVideoPlayer: (props: CldVideoPlayerProps) => React.JSX.Element;

interface CloudinaryLoaderCldOptions {
    widthResize?: string | number;
}
interface CloudinaryLoaderLoaderOptions {
    height?: string | number;
    width?: string | number;
}
interface CloudinaryLoader {
    loaderOptions: CloudinaryLoaderLoaderOptions;
    imageProps: ImageProps;
    cldOptions: CloudinaryLoaderCldOptions;
    cldConfig?: object;
}
declare function cloudinaryLoader({ loaderOptions, imageProps, cldOptions, cldConfig }: CloudinaryLoader): string;

/**
 * getCldImageUrl
 */
interface GetCldOgImageUrl extends GetCldImageUrl {
}
interface GetCldOgImageUrlOptions extends GetCldImageUrlOptions {
}
declare function getCldOgImageUrl(options: GetCldOgImageUrlOptions): string;

export { CldImage, CldImageProps, CldOgImage, CldOgImageProps, CldUploadButton, CldUploadButtonProps, CldUploadWidget, CldUploadWidgetProps, CldUploadWidgetPropsChildren, CldUploadWidgetPropsOptions, CldUploadWidgetResults, CldVideoPlayer, CldVideoPlayerProps, CldVideoPlayerPropsColors, CldVideoPlayerPropsLogo, CloudinaryLoader, CloudinaryLoaderCldOptions, CloudinaryLoaderLoaderOptions, CloudinaryVideoPlayer, CloudinaryVideoPlayerOptions, CloudinaryVideoPlayerOptionsColors, CloudinaryVideoPlayerOptionsLogo, GetCldImageUrl, GetCldImageUrlAnalytics, GetCldImageUrlConfig, GetCldImageUrlOptions, GetCldOgImageUrl, GetCldOgImageUrlOptions, GetCldVideoUrlAnalytics, GetCldVideoUrlConfig, GetCldVideoUrlOptions, cloudinaryLoader, getCldImageUrl, getCldOgImageUrl, getCldVideoUrl };
