(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{134:function(e,t,n){Promise.resolve().then(n.t.bind(n,2853,23)),Promise.resolve().then(n.bind(n,997)),Promise.resolve().then(n.bind(n,8666)),Promise.resolve().then(n.bind(n,8687)),Promise.resolve().then(n.t.bind(n,6046,23)),Promise.resolve().then(n.bind(n,5925)),Promise.resolve().then(n.bind(n,5660))},997:function(e,t,n){"use strict";n.r(t);var o=n(7437),s=n(8666),r=n(2265);t.default=()=>{let{isConnected:e,socket:t}=(0,s.useSocket)(),[n,c]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{c(!0)},[]),n)?(0,o.jsx)("div",{title:"online-status",className:"w-2 aspect-square rounded-full ".concat(e?"bg-green-500":"bg-yellow-500"," absolute top-2 left-2 z-20")}):null}},8666:function(e,t,n){"use strict";n.r(t),n.d(t,{SocketProvider:function(){return SocketProvider},useSocket:function(){return useSocket}});var o=n(7437),s=n(7430),r=n(2749),c=n(2265),i=n(3388);let u=(0,c.createContext)({socket:null,isConnected:!1}),useSocket=()=>(0,c.useContext)(u),SocketProvider=e=>{let{children:t}=e,[n,l]=(0,c.useState)(null),[a,d]=(0,c.useState)(!1),{data:m}=(0,r.useSession)(),{remove:f,set:v}=(0,s.Z)();return(0,c.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("UserEmail")),t=new i.io({path:"/api/socket/io"});return t.on("connect",()=>{e&&(console.log("socket is registered with ",e),t.emit("REGISTER",{email:e})),d(!0)}),t.on("disconnect",()=>{console.log("client socket disconnected."),d(!1)}),t.on("ACTIVE_USERS",e=>{v(e)}),t.on("ACTIVE_USERS:REMOVE",e=>{console.log("remove a active user ",e),f(e)}),l(t),()=>{t.disconnect()}},[]),(0,o.jsx)(u.Provider,{value:{socket:n,isConnected:a},children:t})}},7430:function(e,t,n){"use strict";var o=n(4660);let s=(0,o.Ue)(e=>({members:[],add:t=>e(e=>({members:[...e.members,t]})),remove:t=>e(e=>({members:e.members.filter(e=>e!==t)})),set:t=>e({members:t})}));t.Z=s},8687:function(e,t,n){"use strict";n.r(t),n.d(t,{EdgeStoreProvider:function(){return s},useEdgeStore:function(){return r}});var o=n(5107);let{EdgeStoreProvider:s,useEdgeStore:r}=(0,o.q)()},5660:function(e,t,n){"use strict";n.r(t);var o=n(7437),s=n(2749);t.default=e=>{let{children:t,session:n}=e;return(0,o.jsx)(s.SessionProvider,{session:n,children:t})}},2853:function(){},6046:function(e){e.exports={style:{fontFamily:"'__font_008cc4', '__font_Fallback_008cc4'"},className:"__className_008cc4"}}},function(e){e.O(0,[294,894,542,971,472,744],function(){return e(e.s=134)}),_N_E=e.O()}]);