"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[542],{5107:function(e,r,n){let d;n.d(r,{q:function(){return createEdgeStoreProvider}});var l,c,h,f,y,g,_=n(2265);!function(e){function assertIs(e){}function assertNever(e){throw Error()}function joinValues(e,r=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(r)}e.assertEqual=e=>e,e.assertIs=assertIs,e.assertNever=assertNever,e.arrayToEnum=e=>{let r={};for(let n of e)r[n]=n;return r},e.getValidEnumValues=r=>{let n=e.objectKeys(r).filter(e=>"number"!=typeof r[r[e]]),d={};for(let e of n)d[e]=r[e];return e.objectValues(d)},e.objectValues=r=>e.objectKeys(r).map(function(e){return r[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let r=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(n);return r},e.find=(e,r)=>{for(let n of e)if(r(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=joinValues,e.jsonStringifyReplacer=(e,r)=>"bigint"==typeof r?r.toString():r}(h||(h={})),(f||(f={})).mergeShapes=(e,r)=>({...e,...r});let b=h.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{let r=typeof e;switch(r){case"undefined":return b.undefined;case"string":return b.string;case"number":return isNaN(e)?b.nan:b.number;case"boolean":return b.boolean;case"function":return b.function;case"bigint":return b.bigint;case"symbol":return b.symbol;case"object":if(Array.isArray(e))return b.array;if(null===e)return b.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return b.promise;if("undefined"!=typeof Map&&e instanceof Map)return b.map;if("undefined"!=typeof Set&&e instanceof Set)return b.set;if("undefined"!=typeof Date&&e instanceof Date)return b.date;return b.object;default:return b.unknown}},x=h.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let ZodError=class ZodError extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(e){return e.message},n={_errors:[]},processError=e=>{for(let d of e.issues)if("invalid_union"===d.code)d.unionErrors.map(processError);else if("invalid_return_type"===d.code)processError(d.returnTypeError);else if("invalid_arguments"===d.code)processError(d.argumentsError);else if(0===d.path.length)n._errors.push(r(d));else{let e=n,l=0;for(;l<d.path.length;){let n=d.path[l],c=l===d.path.length-1;c?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(r(d))):e[n]=e[n]||{_errors:[]},e=e[n],l++}}};return processError(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,h.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let r={},n=[];for(let d of this.issues)d.path.length>0?(r[d.path[0]]=r[d.path[0]]||[],r[d.path[0]].push(e(d))):n.push(e(d));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};ZodError.create=e=>{let r=new ZodError(e);return r};let errorMap=(e,r)=>{let n;switch(e.code){case x.invalid_type:n=e.received===b.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case x.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,h.jsonStringifyReplacer)}`;break;case x.unrecognized_keys:n=`Unrecognized key(s) in object: ${h.joinValues(e.keys,", ")}`;break;case x.invalid_union:n="Invalid input";break;case x.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${h.joinValues(e.options)}`;break;case x.invalid_enum_value:n=`Invalid enum value. Expected ${h.joinValues(e.options)}, received '${e.received}'`;break;case x.invalid_arguments:n="Invalid function arguments";break;case x.invalid_return_type:n="Invalid function return type";break;case x.invalid_date:n="Invalid date";break;case x.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:h.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case x.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case x.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case x.custom:n="Invalid input";break;case x.invalid_intersection_types:n="Intersection results could not be merged";break;case x.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case x.not_finite:n="Number must be finite";break;default:n=r.defaultError,h.assertNever(e)}return{message:n}},k=errorMap;function setErrorMap(e){k=e}function getErrorMap(){return k}let makeIssue=e=>{let{data:r,path:n,errorMaps:d,issueData:l}=e,c=[...n,...l.path||[]],h={...l,path:c},f="",y=d.filter(e=>!!e).slice().reverse();for(let e of y)f=e(h,{data:r,defaultError:f}).message;return{...l,path:c,message:l.message||f}};function addIssueToContext(e,r){let n=makeIssue({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,getErrorMap(),errorMap].filter(e=>!!e)});e.common.issues.push(n)}let ParseStatus=class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let d of r){if("aborted"===d.status)return w;"dirty"===d.status&&e.dirty(),n.push(d.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let e of r)n.push({key:await e.key,value:await e.value});return ParseStatus.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let d of r){let{key:r,value:l}=d;if("aborted"===r.status||"aborted"===l.status)return w;"dirty"===r.status&&e.dirty(),"dirty"===l.status&&e.dirty(),"__proto__"!==r.value&&(void 0!==l.value||d.alwaysSet)&&(n[r.value]=l.value)}return{status:e.value,value:n}}};let w=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>"aborted"===e.status,isDirty=e=>"dirty"===e.status,isValid=e=>"valid"===e.status,isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise;(l=y||(y={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},l.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;let ParseInputLazyPath=class ParseInputLazyPath{constructor(e,r,n,d){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=d}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};let handleResult=(e,r)=>{if(isValid(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ZodError(e.common.issues);return this._error=r,this._error}}};function processCreateParams(e){if(!e)return{};let{errorMap:r,invalid_type_error:n,required_error:d,description:l}=e;if(r&&(n||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return r?{errorMap:r,description:l}:{errorMap:(e,r)=>"invalid_type"!==e.code?{message:r.defaultError}:void 0===r.data?{message:null!=d?d:r.defaultError}:{message:null!=n?n:r.defaultError},description:l}}let ZodType=class ZodType{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return getParsedType(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(isAsync(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let d={common:{issues:[],async:null!==(n=null==r?void 0:r.async)&&void 0!==n&&n,contextualErrorMap:null==r?void 0:r.errorMap},path:(null==r?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},l=this._parseSync({data:e,path:d.path,parent:d});return handleResult(d,l)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:null==r?void 0:r.errorMap,async:!0},path:(null==r?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},d=this._parse({data:e,path:n.path,parent:n}),l=await (isAsync(d)?d:Promise.resolve(d));return handleResult(n,l)}refine(e,r){let getIssueProperties=e=>"string"==typeof r||void 0===r?{message:r}:"function"==typeof r?r(e):r;return this._refinement((r,n)=>{let d=e(r),setError=()=>n.addIssue({code:x.custom,...getIssueProperties(r)});return"undefined"!=typeof Promise&&d instanceof Promise?d.then(e=>!!e||(setError(),!1)):!!d||(setError(),!1)})}refinement(e,r){return this._refinement((n,d)=>!!e(n)||(d.addIssue("function"==typeof r?r(n,d):r),!1))}_refinement(e){return new ZodEffects({schema:this,typeName:g.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(e){return ZodUnion.create([this,e],this._def)}and(e){return ZodIntersection.create(this,e,this._def)}transform(e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:g.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:g.ZodDefault})}brand(){return new ZodBranded({typeName:g.ZodBranded,type:this,...processCreateParams(this._def)})}catch(e){return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:g.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ZodPipeline.create(this,e)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};let C=/^c[^\s-]{8,}$/i,E=/^[a-z][a-z0-9]*$/,P=/^[0-9A-HJKMNP-TV-Z]{26}$/,N=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,S=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,O=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,A=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=e=>e.precision?e.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(e,r){return!!(("v4"===r||!r)&&O.test(e)||("v6"===r||!r)&&A.test(e))}let ZodString=class ZodString extends ZodType{_parse(e){let r;this._def.coerce&&(e.data=String(e.data));let n=this._getType(e);if(n!==b.string){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.string,received:r.parsedType}),w}let l=new ParseStatus;for(let n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),l.dirty());else if("max"===n.kind)e.data.length>n.value&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),l.dirty());else if("length"===n.kind){let d=e.data.length>n.value,c=e.data.length<n.value;(d||c)&&(r=this._getOrReturnCtx(e,r),d?addIssueToContext(r,{code:x.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):c&&addIssueToContext(r,{code:x.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),l.dirty())}else if("email"===n.kind)S.test(e.data)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{validation:"email",code:x.invalid_string,message:n.message}),l.dirty());else if("emoji"===n.kind)d||(d=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),d.test(e.data)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{validation:"emoji",code:x.invalid_string,message:n.message}),l.dirty());else if("uuid"===n.kind)N.test(e.data)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{validation:"uuid",code:x.invalid_string,message:n.message}),l.dirty());else if("cuid"===n.kind)C.test(e.data)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{validation:"cuid",code:x.invalid_string,message:n.message}),l.dirty());else if("cuid2"===n.kind)E.test(e.data)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{validation:"cuid2",code:x.invalid_string,message:n.message}),l.dirty());else if("ulid"===n.kind)P.test(e.data)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{validation:"ulid",code:x.invalid_string,message:n.message}),l.dirty());else if("url"===n.kind)try{new URL(e.data)}catch(d){addIssueToContext(r=this._getOrReturnCtx(e,r),{validation:"url",code:x.invalid_string,message:n.message}),l.dirty()}else if("regex"===n.kind){n.regex.lastIndex=0;let d=n.regex.test(e.data);d||(addIssueToContext(r=this._getOrReturnCtx(e,r),{validation:"regex",code:x.invalid_string,message:n.message}),l.dirty())}else if("trim"===n.kind)e.data=e.data.trim();else if("includes"===n.kind)e.data.includes(n.value,n.position)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),l.dirty());else if("toLowerCase"===n.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===n.kind)e.data=e.data.toUpperCase();else if("startsWith"===n.kind)e.data.startsWith(n.value)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.invalid_string,validation:{startsWith:n.value},message:n.message}),l.dirty());else if("endsWith"===n.kind)e.data.endsWith(n.value)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.invalid_string,validation:{endsWith:n.value},message:n.message}),l.dirty());else if("datetime"===n.kind){let d=datetimeRegex(n);d.test(e.data)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.invalid_string,validation:"datetime",message:n.message}),l.dirty())}else"ip"===n.kind?isValidIP(e.data,n.version)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{validation:"ip",code:x.invalid_string,message:n.message}),l.dirty()):h.assertNever(n);return{status:l.value,value:e.data}}_regex(e,r,n){return this.refinement(r=>e.test(r),{validation:r,code:x.invalid_string,...y.errToObj(n)})}_addCheck(e){return new ZodString({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}datetime(e){var r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(r=null==e?void 0:e.offset)&&void 0!==r&&r,...y.errToObj(null==e?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...y.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:null==r?void 0:r.position,...y.errToObj(null==r?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...y.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...y.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...y.errToObj(r)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(let r of this._def.checks)"min"===r.kind&&(null===e||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return e}};function floatSafeRemainder(e,r){let n=(e.toString().split(".")[1]||"").length,d=(r.toString().split(".")[1]||"").length,l=n>d?n:d,c=parseInt(e.toFixed(l).replace(".","")),h=parseInt(r.toFixed(l).replace(".",""));return c%h/Math.pow(10,l)}ZodString.create=e=>{var r;return new ZodString({checks:[],typeName:g.ZodString,coerce:null!==(r=null==e?void 0:e.coerce)&&void 0!==r&&r,...processCreateParams(e)})};let ZodNumber=class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let r;this._def.coerce&&(e.data=Number(e.data));let n=this._getType(e);if(n!==b.number){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.number,received:r.parsedType}),w}let d=new ParseStatus;for(let n of this._def.checks)if("int"===n.kind)h.isInteger(e.data)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.invalid_type,expected:"integer",received:"float",message:n.message}),d.dirty());else if("min"===n.kind){let l=n.inclusive?e.data<n.value:e.data<=n.value;l&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),d.dirty())}else if("max"===n.kind){let l=n.inclusive?e.data>n.value:e.data>=n.value;l&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),d.dirty())}else"multipleOf"===n.kind?0!==floatSafeRemainder(e.data,n.value)&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.not_multiple_of,multipleOf:n.value,message:n.message}),d.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.not_finite,message:n.message}),d.dirty()):h.assertNever(n);return{status:d.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,y.toString(r))}gt(e,r){return this.setLimit("min",e,!1,y.toString(r))}lte(e,r){return this.setLimit("max",e,!0,y.toString(r))}lt(e,r){return this.setLimit("max",e,!1,y.toString(r))}setLimit(e,r,n,d){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:y.toString(d)}]})}_addCheck(e){return new ZodNumber({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)"min"===r.kind&&(null===e||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&h.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===r||n.value>r)&&(r=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};ZodNumber.create=e=>new ZodNumber({checks:[],typeName:g.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});let ZodBigInt=class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let r;this._def.coerce&&(e.data=BigInt(e.data));let n=this._getType(e);if(n!==b.bigint){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.bigint,received:r.parsedType}),w}let d=new ParseStatus;for(let n of this._def.checks)if("min"===n.kind){let l=n.inclusive?e.data<n.value:e.data<=n.value;l&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),d.dirty())}else if("max"===n.kind){let l=n.inclusive?e.data>n.value:e.data>=n.value;l&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),d.dirty())}else"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.not_multiple_of,multipleOf:n.value,message:n.message}),d.dirty()):h.assertNever(n);return{status:d.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,y.toString(r))}gt(e,r){return this.setLimit("min",e,!1,y.toString(r))}lte(e,r){return this.setLimit("max",e,!0,y.toString(r))}lt(e,r){return this.setLimit("max",e,!1,y.toString(r))}setLimit(e,r,n,d){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:y.toString(d)}]})}_addCheck(e){return new ZodBigInt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)"min"===r.kind&&(null===e||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return e}};ZodBigInt.create=e=>{var r;return new ZodBigInt({checks:[],typeName:g.ZodBigInt,coerce:null!==(r=null==e?void 0:e.coerce)&&void 0!==r&&r,...processCreateParams(e)})};let ZodBoolean=class ZodBoolean extends ZodType{_parse(e){this._def.coerce&&(e.data=!!e.data);let r=this._getType(e);if(r!==b.boolean){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.boolean,received:r.parsedType}),w}return OK(e.data)}};ZodBoolean.create=e=>new ZodBoolean({typeName:g.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});let ZodDate=class ZodDate extends ZodType{_parse(e){let r;this._def.coerce&&(e.data=new Date(e.data));let n=this._getType(e);if(n!==b.date){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.date,received:r.parsedType}),w}if(isNaN(e.data.getTime())){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_date}),w}let d=new ParseStatus;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),d.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(addIssueToContext(r=this._getOrReturnCtx(e,r),{code:x.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),d.dirty()):h.assertNever(n);return{status:d.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ZodDate({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)"min"===r.kind&&(null===e||r.value>e)&&(e=r.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return null!=e?new Date(e):null}};ZodDate.create=e=>new ZodDate({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:g.ZodDate,...processCreateParams(e)});let ZodSymbol=class ZodSymbol extends ZodType{_parse(e){let r=this._getType(e);if(r!==b.symbol){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.symbol,received:r.parsedType}),w}return OK(e.data)}};ZodSymbol.create=e=>new ZodSymbol({typeName:g.ZodSymbol,...processCreateParams(e)});let ZodUndefined=class ZodUndefined extends ZodType{_parse(e){let r=this._getType(e);if(r!==b.undefined){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.undefined,received:r.parsedType}),w}return OK(e.data)}};ZodUndefined.create=e=>new ZodUndefined({typeName:g.ZodUndefined,...processCreateParams(e)});let ZodNull=class ZodNull extends ZodType{_parse(e){let r=this._getType(e);if(r!==b.null){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.null,received:r.parsedType}),w}return OK(e.data)}};ZodNull.create=e=>new ZodNull({typeName:g.ZodNull,...processCreateParams(e)});let ZodAny=class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(e){return OK(e.data)}};ZodAny.create=e=>new ZodAny({typeName:g.ZodAny,...processCreateParams(e)});let ZodUnknown=class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(e){return OK(e.data)}};ZodUnknown.create=e=>new ZodUnknown({typeName:g.ZodUnknown,...processCreateParams(e)});let ZodNever=class ZodNever extends ZodType{_parse(e){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.never,received:r.parsedType}),w}};ZodNever.create=e=>new ZodNever({typeName:g.ZodNever,...processCreateParams(e)});let ZodVoid=class ZodVoid extends ZodType{_parse(e){let r=this._getType(e);if(r!==b.undefined){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.void,received:r.parsedType}),w}return OK(e.data)}};ZodVoid.create=e=>new ZodVoid({typeName:g.ZodVoid,...processCreateParams(e)});let ZodArray=class ZodArray extends ZodType{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),d=this._def;if(r.parsedType!==b.array)return addIssueToContext(r,{code:x.invalid_type,expected:b.array,received:r.parsedType}),w;if(null!==d.exactLength){let e=r.data.length>d.exactLength.value,l=r.data.length<d.exactLength.value;(e||l)&&(addIssueToContext(r,{code:e?x.too_big:x.too_small,minimum:l?d.exactLength.value:void 0,maximum:e?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),n.dirty())}if(null!==d.minLength&&r.data.length<d.minLength.value&&(addIssueToContext(r,{code:x.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),n.dirty()),null!==d.maxLength&&r.data.length>d.maxLength.value&&(addIssueToContext(r,{code:x.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((e,n)=>d.type._parseAsync(new ParseInputLazyPath(r,e,r.path,n)))).then(e=>ParseStatus.mergeArray(n,e));let l=[...r.data].map((e,n)=>d.type._parseSync(new ParseInputLazyPath(r,e,r.path,n)));return ParseStatus.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new ZodArray({...this._def,minLength:{value:e,message:y.toString(r)}})}max(e,r){return new ZodArray({...this._def,maxLength:{value:e,message:y.toString(r)}})}length(e,r){return new ZodArray({...this._def,exactLength:{value:e,message:y.toString(r)}})}nonempty(e){return this.min(1,e)}};function deepPartialify(e){if(e instanceof ZodObject){let r={};for(let n in e.shape){let d=e.shape[n];r[n]=ZodOptional.create(deepPartialify(d))}return new ZodObject({...e._def,shape:()=>r})}return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(e=>deepPartialify(e))):e}ZodArray.create=(e,r)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:g.ZodArray,...processCreateParams(r)});let ZodObject=class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),r=h.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){let r=this._getType(e);if(r!==b.object){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.object,received:r.parsedType}),w}let{status:n,ctx:d}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(let e in d.data)c.includes(e)||h.push(e);let f=[];for(let e of c){let r=l[e],n=d.data[e];f.push({key:{status:"valid",value:e},value:r._parse(new ParseInputLazyPath(d,n,d.path,e)),alwaysSet:e in d.data})}if(this._def.catchall instanceof ZodNever){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of h)f.push({key:{status:"valid",value:e},value:{status:"valid",value:d.data[e]}});else if("strict"===e)h.length>0&&(addIssueToContext(d,{code:x.unrecognized_keys,keys:h}),n.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let r of h){let n=d.data[r];f.push({key:{status:"valid",value:r},value:e._parse(new ParseInputLazyPath(d,n,d.path,r)),alwaysSet:r in d.data})}}return d.common.async?Promise.resolve().then(async()=>{let e=[];for(let r of f){let n=await r.key;e.push({key:n,value:await r.value,alwaysSet:r.alwaysSet})}return e}).then(e=>ParseStatus.mergeObjectSync(n,e)):ParseStatus.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return y.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(r,n)=>{var d,l,c,h;let f=null!==(c=null===(l=(d=this._def).errorMap)||void 0===l?void 0:l.call(d,r,n).message)&&void 0!==c?c:n.defaultError;return"unrecognized_keys"===r.code?{message:null!==(h=y.errToObj(e).message)&&void 0!==h?h:f}:{message:f}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){let r=new ZodObject({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:g.ZodObject});return r}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ZodObject({...this._def,catchall:e})}pick(e){let r={};return h.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ZodObject({...this._def,shape:()=>r})}omit(e){let r={};return h.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new ZodObject({...this._def,shape:()=>r})}deepPartial(){return deepPartialify(this)}partial(e){let r={};return h.objectKeys(this.shape).forEach(n=>{let d=this.shape[n];e&&!e[n]?r[n]=d:r[n]=d.optional()}),new ZodObject({...this._def,shape:()=>r})}required(e){let r={};return h.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let e=this.shape[n],d=e;for(;d instanceof ZodOptional;)d=d._def.innerType;r[n]=d}}),new ZodObject({...this._def,shape:()=>r})}keyof(){return createZodEnum(h.objectKeys(this.shape))}};ZodObject.create=(e,r)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:g.ZodObject,...processCreateParams(r)}),ZodObject.strictCreate=(e,r)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:g.ZodObject,...processCreateParams(r)}),ZodObject.lazycreate=(e,r)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:g.ZodObject,...processCreateParams(r)});let ZodUnion=class ZodUnion extends ZodType{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function handleResults(e){for(let r of e)if("valid"===r.result.status)return r.result;for(let n of e)if("dirty"===n.result.status)return r.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new ZodError(e.ctx.common.issues));return addIssueToContext(r,{code:x.invalid_union,unionErrors:n}),w}if(r.common.async)return Promise.all(n.map(async e=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await e._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(handleResults);{let e;let d=[];for(let l of n){let n={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:n});if("valid"===c.status)return c;"dirty"!==c.status||e||(e={result:c,ctx:n}),n.common.issues.length&&d.push(n.common.issues)}if(e)return r.common.issues.push(...e.ctx.common.issues),e.result;let l=d.map(e=>new ZodError(e));return addIssueToContext(r,{code:x.invalid_union,unionErrors:l}),w}}get options(){return this._def.options}};ZodUnion.create=(e,r)=>new ZodUnion({options:e,typeName:g.ZodUnion,...processCreateParams(r)});let getDiscriminator=e=>{if(e instanceof ZodLazy)return getDiscriminator(e.schema);if(e instanceof ZodEffects)return getDiscriminator(e.innerType());if(e instanceof ZodLiteral)return[e.value];if(e instanceof ZodEnum)return e.options;if(e instanceof ZodNativeEnum)return Object.keys(e.enum);if(e instanceof ZodDefault)return getDiscriminator(e._def.innerType);if(e instanceof ZodUndefined)return[void 0];else if(e instanceof ZodNull)return[null];else return null};let ZodDiscriminatedUnion=class ZodDiscriminatedUnion extends ZodType{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==b.object)return addIssueToContext(r,{code:x.invalid_type,expected:b.object,received:r.parsedType}),w;let n=this.discriminator,d=r.data[n],l=this.optionsMap.get(d);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(addIssueToContext(r,{code:x.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),w)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let d=new Map;for(let n of r){let r=getDiscriminator(n.shape[e]);if(!r)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let l of r){if(d.has(l))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);d.set(l,n)}}return new ZodDiscriminatedUnion({typeName:g.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:d,...processCreateParams(n)})}};function mergeValues(e,r){let n=getParsedType(e),d=getParsedType(r);if(e===r)return{valid:!0,data:e};if(n===b.object&&d===b.object){let n=h.objectKeys(r),d=h.objectKeys(e).filter(e=>-1!==n.indexOf(e)),l={...e,...r};for(let n of d){let d=mergeValues(e[n],r[n]);if(!d.valid)return{valid:!1};l[n]=d.data}return{valid:!0,data:l}}if(n===b.array&&d===b.array){if(e.length!==r.length)return{valid:!1};let n=[];for(let d=0;d<e.length;d++){let l=e[d],c=r[d],h=mergeValues(l,c);if(!h.valid)return{valid:!1};n.push(h.data)}return{valid:!0,data:n}}return n===b.date&&d===b.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}let ZodIntersection=class ZodIntersection extends ZodType{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),handleParsed=(e,d)=>{if(isAborted(e)||isAborted(d))return w;let l=mergeValues(e.value,d.value);return l.valid?((isDirty(e)||isDirty(d))&&r.dirty(),{status:r.value,value:l.data}):(addIssueToContext(n,{code:x.invalid_intersection_types}),w)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,r])=>handleParsed(e,r)):handleParsed(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};ZodIntersection.create=(e,r,n)=>new ZodIntersection({left:e,right:r,typeName:g.ZodIntersection,...processCreateParams(n)});let ZodTuple=class ZodTuple extends ZodType{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==b.array)return addIssueToContext(n,{code:x.invalid_type,expected:b.array,received:n.parsedType}),w;if(n.data.length<this._def.items.length)return addIssueToContext(n,{code:x.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),w;let d=this._def.rest;!d&&n.data.length>this._def.items.length&&(addIssueToContext(n,{code:x.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let l=[...n.data].map((e,r)=>{let d=this._def.items[r]||this._def.rest;return d?d._parse(new ParseInputLazyPath(n,e,n.path,r)):null}).filter(e=>!!e);return n.common.async?Promise.all(l).then(e=>ParseStatus.mergeArray(r,e)):ParseStatus.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new ZodTuple({...this._def,rest:e})}};ZodTuple.create=(e,r)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:g.ZodTuple,rest:null,...processCreateParams(r)})};let ZodRecord=class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==b.object)return addIssueToContext(n,{code:x.invalid_type,expected:b.object,received:n.parsedType}),w;let d=[],l=this._def.keyType,c=this._def.valueType;for(let e in n.data)d.push({key:l._parse(new ParseInputLazyPath(n,e,n.path,e)),value:c._parse(new ParseInputLazyPath(n,n.data[e],n.path,e))});return n.common.async?ParseStatus.mergeObjectAsync(r,d):ParseStatus.mergeObjectSync(r,d)}get element(){return this._def.valueType}static create(e,r,n){return new ZodRecord(r instanceof ZodType?{keyType:e,valueType:r,typeName:g.ZodRecord,...processCreateParams(n)}:{keyType:ZodString.create(),valueType:e,typeName:g.ZodRecord,...processCreateParams(r)})}};let ZodMap=class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==b.map)return addIssueToContext(n,{code:x.invalid_type,expected:b.map,received:n.parsedType}),w;let d=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([e,r],c)=>({key:d._parse(new ParseInputLazyPath(n,e,n.path,[c,"key"])),value:l._parse(new ParseInputLazyPath(n,r,n.path,[c,"value"]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of c){let d=await n.key,l=await n.value;if("aborted"===d.status||"aborted"===l.status)return w;("dirty"===d.status||"dirty"===l.status)&&r.dirty(),e.set(d.value,l.value)}return{status:r.value,value:e}})}{let e=new Map;for(let n of c){let d=n.key,l=n.value;if("aborted"===d.status||"aborted"===l.status)return w;("dirty"===d.status||"dirty"===l.status)&&r.dirty(),e.set(d.value,l.value)}return{status:r.value,value:e}}}};ZodMap.create=(e,r,n)=>new ZodMap({valueType:r,keyType:e,typeName:g.ZodMap,...processCreateParams(n)});let ZodSet=class ZodSet extends ZodType{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==b.set)return addIssueToContext(n,{code:x.invalid_type,expected:b.set,received:n.parsedType}),w;let d=this._def;null!==d.minSize&&n.data.size<d.minSize.value&&(addIssueToContext(n,{code:x.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),r.dirty()),null!==d.maxSize&&n.data.size>d.maxSize.value&&(addIssueToContext(n,{code:x.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),r.dirty());let l=this._def.valueType;function finalizeSet(e){let n=new Set;for(let d of e){if("aborted"===d.status)return w;"dirty"===d.status&&r.dirty(),n.add(d.value)}return{status:r.value,value:n}}let c=[...n.data.values()].map((e,r)=>l._parse(new ParseInputLazyPath(n,e,n.path,r)));return n.common.async?Promise.all(c).then(e=>finalizeSet(e)):finalizeSet(c)}min(e,r){return new ZodSet({...this._def,minSize:{value:e,message:y.toString(r)}})}max(e,r){return new ZodSet({...this._def,maxSize:{value:e,message:y.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};ZodSet.create=(e,r)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:g.ZodSet,...processCreateParams(r)});let ZodFunction=class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==b.function)return addIssueToContext(r,{code:x.invalid_type,expected:b.function,received:r.parsedType}),w;function makeArgsIssue(e,n){return makeIssue({data:e,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,getErrorMap(),errorMap].filter(e=>!!e),issueData:{code:x.invalid_arguments,argumentsError:n}})}function makeReturnsIssue(e,n){return makeIssue({data:e,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,getErrorMap(),errorMap].filter(e=>!!e),issueData:{code:x.invalid_return_type,returnTypeError:n}})}let n={errorMap:r.common.contextualErrorMap},d=r.data;if(this._def.returns instanceof ZodPromise){let e=this;return OK(async function(...r){let l=new ZodError([]),c=await e._def.args.parseAsync(r,n).catch(e=>{throw l.addIssue(makeArgsIssue(r,e)),l}),h=await Reflect.apply(d,this,c),f=await e._def.returns._def.type.parseAsync(h,n).catch(e=>{throw l.addIssue(makeReturnsIssue(h,e)),l});return f})}{let e=this;return OK(function(...r){let l=e._def.args.safeParse(r,n);if(!l.success)throw new ZodError([makeArgsIssue(r,l.error)]);let c=Reflect.apply(d,this,l.data),h=e._def.returns.safeParse(c,n);if(!h.success)throw new ZodError([makeReturnsIssue(c,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ZodFunction({...this._def,args:ZodTuple.create(e).rest(ZodUnknown.create())})}returns(e){return new ZodFunction({...this._def,returns:e})}implement(e){let r=this.parse(e);return r}strictImplement(e){let r=this.parse(e);return r}static create(e,r,n){return new ZodFunction({args:e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:r||ZodUnknown.create(),typeName:g.ZodFunction,...processCreateParams(n)})}};let ZodLazy=class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.getter();return n._parse({data:r.data,path:r.path,parent:r})}};ZodLazy.create=(e,r)=>new ZodLazy({getter:e,typeName:g.ZodLazy,...processCreateParams(r)});let ZodLiteral=class ZodLiteral extends ZodType{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{received:r.data,code:x.invalid_literal,expected:this._def.value}),w}return{status:"valid",value:e.data}}get value(){return this._def.value}};function createZodEnum(e,r){return new ZodEnum({values:e,typeName:g.ZodEnum,...processCreateParams(r)})}ZodLiteral.create=(e,r)=>new ZodLiteral({value:e,typeName:g.ZodLiteral,...processCreateParams(r)});let ZodEnum=class ZodEnum extends ZodType{_parse(e){if("string"!=typeof e.data){let r=this._getOrReturnCtx(e),n=this._def.values;return addIssueToContext(r,{expected:h.joinValues(n),received:r.parsedType,code:x.invalid_type}),w}if(-1===this._def.values.indexOf(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return addIssueToContext(r,{received:r.data,code:x.invalid_enum_value,options:n}),w}return OK(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return ZodEnum.create(e)}exclude(e){return ZodEnum.create(this.options.filter(r=>!e.includes(r)))}};ZodEnum.create=createZodEnum;let ZodNativeEnum=class ZodNativeEnum extends ZodType{_parse(e){let r=h.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==b.string&&n.parsedType!==b.number){let e=h.objectValues(r);return addIssueToContext(n,{expected:h.joinValues(e),received:n.parsedType,code:x.invalid_type}),w}if(-1===r.indexOf(e.data)){let e=h.objectValues(r);return addIssueToContext(n,{received:n.data,code:x.invalid_enum_value,options:e}),w}return OK(e.data)}get enum(){return this._def.values}};ZodNativeEnum.create=(e,r)=>new ZodNativeEnum({values:e,typeName:g.ZodNativeEnum,...processCreateParams(r)});let ZodPromise=class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==b.promise&&!1===r.common.async)return addIssueToContext(r,{code:x.invalid_type,expected:b.promise,received:r.parsedType}),w;let n=r.parsedType===b.promise?r.data:Promise.resolve(r.data);return OK(n.then(e=>this._def.type.parseAsync(e,{path:r.path,errorMap:r.common.contextualErrorMap})))}};ZodPromise.create=(e,r)=>new ZodPromise({type:e,typeName:g.ZodPromise,...processCreateParams(r)});let ZodEffects=class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===g.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),d=this._def.effect||null,l={addIssue:e=>{addIssueToContext(n,e),e.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),"preprocess"===d.type){let e=d.transform(n.data,l);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n})):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===d.type){let executeRefinement=e=>{let r=d.refinement(e,l);if(n.common.async)return Promise.resolve(r);if(r instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>"aborted"===e.status?w:("dirty"===e.status&&r.dirty(),executeRefinement(e.value).then(()=>({status:r.value,value:e.value}))));{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?w:("dirty"===e.status&&r.dirty(),executeRefinement(e.value),{status:r.value,value:e.value})}}if("transform"===d.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>isValid(e)?Promise.resolve(d.transform(e.value,l)).then(e=>({status:r.value,value:e})):e);{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!isValid(e))return e;let c=d.transform(e.value,l);if(c instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}}h.assertNever(d)}};ZodEffects.create=(e,r,n)=>new ZodEffects({schema:e,typeName:g.ZodEffects,effect:r,...processCreateParams(n)}),ZodEffects.createWithPreprocess=(e,r,n)=>new ZodEffects({schema:r,effect:{type:"preprocess",transform:e},typeName:g.ZodEffects,...processCreateParams(n)});let ZodOptional=class ZodOptional extends ZodType{_parse(e){let r=this._getType(e);return r===b.undefined?OK(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ZodOptional.create=(e,r)=>new ZodOptional({innerType:e,typeName:g.ZodOptional,...processCreateParams(r)});let ZodNullable=class ZodNullable extends ZodType{_parse(e){let r=this._getType(e);return r===b.null?OK(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ZodNullable.create=(e,r)=>new ZodNullable({innerType:e,typeName:g.ZodNullable,...processCreateParams(r)});let ZodDefault=class ZodDefault extends ZodType{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===b.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};ZodDefault.create=(e,r)=>new ZodDefault({innerType:e,typeName:g.ZodDefault,defaultValue:"function"==typeof r.default?r.default:()=>r.default,...processCreateParams(r)});let ZodCatch=class ZodCatch extends ZodType{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},d=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return isAsync(d)?d.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ZodError(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};ZodCatch.create=(e,r)=>new ZodCatch({innerType:e,typeName:g.ZodCatch,catchValue:"function"==typeof r.catch?r.catch:()=>r.catch,...processCreateParams(r)});let ZodNaN=class ZodNaN extends ZodType{_parse(e){let r=this._getType(e);if(r!==b.nan){let r=this._getOrReturnCtx(e);return addIssueToContext(r,{code:x.invalid_type,expected:b.nan,received:r.parsedType}),w}return{status:"valid",value:e.data}}};ZodNaN.create=e=>new ZodNaN({typeName:g.ZodNaN,...processCreateParams(e)});let R=Symbol("zod_brand");let ZodBranded=class ZodBranded extends ZodType{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}};let ZodPipeline=class ZodPipeline extends ZodType{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async){let handleAsync=async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?w:"dirty"===e.status?(r.dirty(),DIRTY(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})};return handleAsync()}{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?w:"dirty"===e.status?(r.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,r){return new ZodPipeline({in:e,out:r,typeName:g.ZodPipeline})}};let ZodReadonly=class ZodReadonly extends ZodType{_parse(e){let r=this._def.innerType._parse(e);return isValid(r)&&(r.value=Object.freeze(r.value)),r}};ZodReadonly.create=(e,r)=>new ZodReadonly({innerType:e,typeName:g.ZodReadonly,...processCreateParams(r)});let custom=(e,r={},n)=>e?ZodAny.create().superRefine((d,l)=>{var c,h;if(!e(d)){let e="function"==typeof r?r(d):"string"==typeof r?{message:r}:r,f=null===(h=null!==(c=e.fatal)&&void 0!==c?c:n)||void 0===h||h,y="string"==typeof e?{message:e}:e;l.addIssue({code:"custom",...y,fatal:f})}}):ZodAny.create(),L={object:ZodObject.lazycreate};(c=g||(g={})).ZodString="ZodString",c.ZodNumber="ZodNumber",c.ZodNaN="ZodNaN",c.ZodBigInt="ZodBigInt",c.ZodBoolean="ZodBoolean",c.ZodDate="ZodDate",c.ZodSymbol="ZodSymbol",c.ZodUndefined="ZodUndefined",c.ZodNull="ZodNull",c.ZodAny="ZodAny",c.ZodUnknown="ZodUnknown",c.ZodNever="ZodNever",c.ZodVoid="ZodVoid",c.ZodArray="ZodArray",c.ZodObject="ZodObject",c.ZodUnion="ZodUnion",c.ZodDiscriminatedUnion="ZodDiscriminatedUnion",c.ZodIntersection="ZodIntersection",c.ZodTuple="ZodTuple",c.ZodRecord="ZodRecord",c.ZodMap="ZodMap",c.ZodSet="ZodSet",c.ZodFunction="ZodFunction",c.ZodLazy="ZodLazy",c.ZodLiteral="ZodLiteral",c.ZodEnum="ZodEnum",c.ZodEffects="ZodEffects",c.ZodNativeEnum="ZodNativeEnum",c.ZodOptional="ZodOptional",c.ZodNullable="ZodNullable",c.ZodDefault="ZodDefault",c.ZodCatch="ZodCatch",c.ZodPromise="ZodPromise",c.ZodBranded="ZodBranded",c.ZodPipeline="ZodPipeline",c.ZodReadonly="ZodReadonly";let U=ZodString.create,z=ZodNumber.create,B=ZodNaN.create,V=ZodBigInt.create,F=ZodBoolean.create,K=ZodDate.create,q=ZodSymbol.create,H=ZodUndefined.create,Y=ZodNull.create,X=ZodAny.create,Q=ZodUnknown.create,et=ZodNever.create,ea=ZodVoid.create,er=ZodArray.create,es=ZodObject.create,en=ZodObject.strictCreate,ei=ZodUnion.create,eo=ZodDiscriminatedUnion.create,ed=ZodIntersection.create,el=ZodTuple.create,eu=ZodRecord.create,ec=ZodMap.create,ep=ZodSet.create,eh=ZodFunction.create,em=ZodLazy.create,ef=ZodLiteral.create,ey=ZodEnum.create,eg=ZodNativeEnum.create,ev=ZodPromise.create,e_=ZodEffects.create,eZ=ZodOptional.create,eb=ZodNullable.create,ex=ZodEffects.createWithPreprocess,eT=ZodPipeline.create;var ek=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap:setErrorMap,getErrorMap:getErrorMap,makeIssue:makeIssue,EMPTY_PATH:[],addIssueToContext:addIssueToContext,ParseStatus:ParseStatus,INVALID:w,DIRTY:DIRTY,OK:OK,isAborted:isAborted,isDirty:isDirty,isValid:isValid,isAsync:isAsync,get util(){return h},get objectUtil(){return f},ZodParsedType:b,getParsedType:getParsedType,ZodType:ZodType,ZodString:ZodString,ZodNumber:ZodNumber,ZodBigInt:ZodBigInt,ZodBoolean:ZodBoolean,ZodDate:ZodDate,ZodSymbol:ZodSymbol,ZodUndefined:ZodUndefined,ZodNull:ZodNull,ZodAny:ZodAny,ZodUnknown:ZodUnknown,ZodNever:ZodNever,ZodVoid:ZodVoid,ZodArray:ZodArray,ZodObject:ZodObject,ZodUnion:ZodUnion,ZodDiscriminatedUnion:ZodDiscriminatedUnion,ZodIntersection:ZodIntersection,ZodTuple:ZodTuple,ZodRecord:ZodRecord,ZodMap:ZodMap,ZodSet:ZodSet,ZodFunction:ZodFunction,ZodLazy:ZodLazy,ZodLiteral:ZodLiteral,ZodEnum:ZodEnum,ZodNativeEnum:ZodNativeEnum,ZodPromise:ZodPromise,ZodEffects:ZodEffects,ZodTransformer:ZodEffects,ZodOptional:ZodOptional,ZodNullable:ZodNullable,ZodDefault:ZodDefault,ZodCatch:ZodCatch,ZodNaN:ZodNaN,BRAND:R,ZodBranded:ZodBranded,ZodPipeline:ZodPipeline,ZodReadonly:ZodReadonly,custom:custom,Schema:ZodType,ZodSchema:ZodType,late:L,get ZodFirstPartyTypeKind(){return g},coerce:{string:e=>ZodString.create({...e,coerce:!0}),number:e=>ZodNumber.create({...e,coerce:!0}),boolean:e=>ZodBoolean.create({...e,coerce:!0}),bigint:e=>ZodBigInt.create({...e,coerce:!0}),date:e=>ZodDate.create({...e,coerce:!0})},any:X,array:er,bigint:V,boolean:F,date:K,discriminatedUnion:eo,effect:e_,enum:ey,function:eh,instanceof:(e,r={message:`Input not instance of ${e.name}`})=>custom(r=>r instanceof e,r),intersection:ed,lazy:em,literal:ef,map:ec,nan:B,nativeEnum:eg,never:et,null:Y,nullable:eb,number:z,object:es,oboolean:()=>F().optional(),onumber:()=>z().optional(),optional:eZ,ostring:()=>U().optional(),pipeline:eT,preprocess:ex,promise:ev,record:eu,set:ep,strictObject:en,string:U,symbol:q,transformer:e_,tuple:el,undefined:H,union:ei,unknown:Q,void:ea,NEVER:w,ZodIssueCode:x,quotelessJson:e=>{let r=JSON.stringify(e,null,2);return r.replace(/"([^"]+)":/g,"$1:")},ZodError:ZodError});function _define_property(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}let EdgeStoreApiClientError=class EdgeStoreApiClientError extends Error{constructor(e){super(e.response.message),_define_property(this,"data",void 0),this.name="EdgeStoreApiClientError",this.data=e.response}};function createPathParamProxy(){let getPath=(e,r)=>new Proxy(()=>e,{get:(r,n)=>getPath(`${e}.${String(n)}`)});return new Proxy(()=>"",{get:(e,r)=>getPath(String(r))})}let createNewBuilder=(e,r)=>{let n={...e,...r};return createBuilder({type:n.type},n)};function createBuilder(e,r){let n={type:e.type,input:ek.never(),path:[],metadata:()=>({}),...r};return{$config:{ctx:void 0},_def:n,input:e=>createNewBuilder(n,{input:e}),path(e){let r=createPathParamProxy(),d=e(r);return createNewBuilder(n,{path:d})},metadata:e=>createNewBuilder(n,{metadata:e}),accessControl:e=>createNewBuilder(n,{accessControl:e}),beforeUpload:e=>createNewBuilder(n,{beforeUpload:e}),beforeDelete:e=>createNewBuilder(n,{beforeDelete:e})}}let EdgeStoreBuilder=class EdgeStoreBuilder{context(){return new EdgeStoreBuilder}create(){return createEdgeStoreInner()()}};function createRouterFactory(){return function(e){return{$config:{ctx:void 0},buckets:e}}}function initBucket(e,r){return createBuilder({type:e},{bucketConfig:r})}function createEdgeStoreInner(){return function(){return{imageBucket:e=>initBucket("IMAGE",e),fileBucket:e=>initBucket("FILE",e),router:createRouterFactory()}}}new EdgeStoreBuilder;var ew=n(2601);let EdgeStoreClientError=class EdgeStoreClientError extends Error{constructor(e){super(e),this.name="EdgeStoreError"}};async function handleError(e){let r={};try{r=await e.json()}catch(r){throw new EdgeStoreClientError(`Failed to parse response. Make sure the api is correctly configured at ${e.url}`)}throw new EdgeStoreApiClientError({response:r})}function createNextProxy({apiPath:e,uploadingCountRef:r,maxConcurrentUploads:n=5}){return new Proxy({},{get:(d,l)=>({upload:async d=>{try{for(d.onProgressChange?.(0);r.current>=n&&r.current>0;)await new Promise(e=>setTimeout(e,300));r.current++;let c=await uploadFile(d,{bucketName:l,apiPath:e});return c}finally{r.current--}},confirmUpload:async r=>{let{success:n}=await confirmUpload(r,{bucketName:l,apiPath:e});if(!n)throw new EdgeStoreClientError("Failed to confirm upload")},delete:async r=>{let{success:n}=await deleteFile(r,{bucketName:l,apiPath:e});if(!n)throw new EdgeStoreClientError("Failed to delete file")}})})}async function uploadFile({file:e,input:r,onProgressChange:n,options:d},{apiPath:l,bucketName:c}){try{n?.(0);let h=await fetch(`${l}/request-upload`,{method:"POST",credentials:"include",body:JSON.stringify({bucketName:c,input:r,fileInfo:{extension:e.name.split(".").pop(),type:e.type,size:e.size,fileName:d?.manualFileName,replaceTargetUrl:d?.replaceTargetUrl,temporary:d?.temporary}}),headers:{"Content-Type":"application/json"}});h.ok||await handleError(h);let f=await h.json();if("multipart"in f)await multipartUpload({bucketName:c,multipartInfo:f.multipart,onProgressChange:n,file:e,apiPath:l});else if("uploadUrl"in f)await uploadFileInner(e,f.uploadUrl,n);else throw new EdgeStoreClientError("An error occurred");return{url:function(e,r){return e}(f.accessUrl,l),thumbnailUrl:f.thumbnailUrl?function(e,r){return e}(f.thumbnailUrl,l):null,size:f.size,uploadedAt:new Date(f.uploadedAt),path:f.path,pathOrder:f.pathOrder,metadata:f.metadata}}catch(e){throw n?.(0),e}}function getUrl(e,r){return e}let uploadFileInner=async(e,r,n)=>{let d=new Promise((d,l)=>{let c=new XMLHttpRequest;c.open("PUT",r),c.setRequestHeader("x-ms-blob-type","BlockBlob"),c.addEventListener("loadstart",()=>{n?.(0)}),c.upload.addEventListener("progress",e=>{if(e.lengthComputable){let r=Math.round(e.loaded/e.total*1e4)/100;n?.(r)}}),c.addEventListener("error",()=>{l(Error("Error uploading file"))}),c.addEventListener("abort",()=>{l(Error("File upload aborted"))}),c.addEventListener("loadend",()=>{d(c.getResponseHeader("ETag"))}),c.send(e)});return d};async function multipartUpload(e){let{bucketName:r,multipartInfo:n,onProgressChange:d,file:l,apiPath:c}=e,{partSize:h,parts:f,totalParts:y,uploadId:g,key:_}=n,b=[],uploadPart=async e=>{let{part:r,chunk:n}=e,{uploadUrl:l}=r,c=await uploadFileInner(n,l,e=>{let n=b.find(e=>e.partNumber===r.partNumber);n?n.progress=e:b.push({partNumber:r.partNumber,progress:e});let l=Math.round(b.reduce((e,r)=>e+100*r.progress,0)/y)/100;d?.(l)});if(!c)throw new EdgeStoreClientError("Could not get ETag from multipart response");return{partNumber:r.partNumber,eTag:c}},x=await queuedPromises({items:f.map(e=>({part:e,chunk:l.slice((e.partNumber-1)*h,e.partNumber*h)})),fn:uploadPart,maxParallel:5,maxRetries:10}),k=await fetch(`${c}/complete-multipart-upload`,{method:"POST",credentials:"include",body:JSON.stringify({bucketName:r,uploadId:g,key:_,parts:x}),headers:{"Content-Type":"application/json"}});k.ok||await handleError(k)}async function confirmUpload({url:e},{apiPath:r,bucketName:n}){let d=await fetch(`${r}/confirm-upload`,{method:"POST",credentials:"include",body:JSON.stringify({url:e,bucketName:n}),headers:{"Content-Type":"application/json"}});return d.ok||await handleError(d),d.json()}async function deleteFile({url:e},{apiPath:r,bucketName:n}){let d=await fetch(`${r}/delete-file`,{method:"POST",credentials:"include",body:JSON.stringify({url:e,bucketName:n}),headers:{"Content-Type":"application/json"}});return d.ok||await handleError(d),d.json()}async function queuedPromises({items:e,fn:r,maxParallel:n,maxRetries:d=0}){let l=Array(e.length),executeWithRetry=async(e,r)=>{try{return await e()}catch(n){if(r>0)return await new Promise(e=>setTimeout(e,5e3)),executeWithRetry(e,r-1);throw n}},c={count:n,async wait(){for(;this.count<=0;)await new Promise(e=>setTimeout(e,500));this.count--},signal(){this.count++}},h=e.map((e,n)=>(async()=>{await c.wait();try{let c=await executeWithRetry(()=>r(e),d);l[n]=c}finally{c.signal()}})());return await Promise.all(h),l}let eC=(void 0!==ew?ew.env.NEXT_PUBLIC_EDGE_STORE_BASE_URL:void 0)??"https://files.edgestore.dev";function createEdgeStoreProvider(e){let r=_.createContext(void 0);return{EdgeStoreProvider:({children:n,basePath:d})=>EdgeStoreProviderInner({children:n,context:r,basePath:d,maxConcurrentUploads:e?.maxConcurrentUploads}),useEdgeStore:function(){if(!r)throw Error("React Context is unavailable in Server Components");let e=_.useContext(r);return e}}}function EdgeStoreProviderInner({children:e,context:r,basePath:n,maxConcurrentUploads:d}){let l=n?`${n}`:"/api/edgestore",[c,h]=_.useState({loading:!0,initialized:!1,error:!1}),f=_.useRef(0),y=_.useRef(!1);async function init(){try{h({loading:!0,initialized:!1,error:!1});let e=await fetch(`${l}/init`,{method:"POST",credentials:"include"});if(e.ok){let r=await e.json(),n=await fetch(`${eC}/_init`,{method:"GET",credentials:"include",headers:{"x-edgestore-token":r.token}});if(n.ok)h({loading:!1,initialized:!0,error:!1});else throw h({loading:!1,initialized:!1,error:!0}),new EdgeStoreClientError("Couldn't initialize Edge Store.")}else h({loading:!1,initialized:!1,error:!0}),await handleError(e)}catch(e){throw h({loading:!1,initialized:!1,error:!0}),e}}async function reset(){await init()}return _.useEffect(()=>(y.current||init(),()=>{y.current=!0}),[]),_.createElement(_.Fragment,null,_.createElement(r.Provider,{value:{edgestore:createNextProxy({apiPath:l,uploadingCountRef:f,maxConcurrentUploads:d}),reset,state:c}},e))}},5925:function(e,r,n){let d,l;n.r(r),n.d(r,{CheckmarkIcon:function(){return F},ErrorIcon:function(){return L},LoaderIcon:function(){return z},ToastBar:function(){return et},ToastIcon:function(){return M},Toaster:function(){return Ie},default:function(){return er},resolveValue:function(){return T},toast:function(){return dist_n},useToaster:function(){return D},useToasterStore:function(){return I}});var c=n(2265);let h={data:""},t=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||h,f=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,y=/\/\*[^]*?\*\/|  +/g,g=/\n+/g,o=(e,r)=>{let n="",d="",l="";for(let c in e){let h=e[c];"@"==c[0]?"i"==c[1]?n=c+" "+h+";":d+="f"==c[1]?o(h,c):c+"{"+o(h,"k"==c[1]?"":r)+"}":"object"==typeof h?d+=o(h,r?r.replace(/([^,])+/g,e=>c.replace(/(^:.*)|([^,])+/g,r=>/&/.test(r)?r.replace(/&/g,e):e?e+" "+r:r)):c):null!=h&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=o.p?o.p(c,h):c+":"+h+";")}return n+(r&&l?r+"{"+l+"}":l)+d},_={},s=e=>{if("object"==typeof e){let r="";for(let n in e)r+=n+s(e[n]);return r}return e},i=(e,r,n,d,l)=>{var c;let h=s(e),b=_[h]||(_[h]=(e=>{let r=0,n=11;for(;r<e.length;)n=101*n+e.charCodeAt(r++)>>>0;return"go"+n})(h));if(!_[b]){let r=h!==e?e:(e=>{let r,n,d=[{}];for(;r=f.exec(e.replace(y,""));)r[4]?d.shift():r[3]?(n=r[3].replace(g," ").trim(),d.unshift(d[0][n]=d[0][n]||{})):d[0][r[1]]=r[2].replace(g," ").trim();return d[0]})(e);_[b]=o(l?{["@keyframes "+b]:r}:r,n?"":"."+b)}let x=n&&_.g?_.g:null;return n&&(_.g=_[b]),c=_[b],x?r.data=r.data.replace(x,c):-1===r.data.indexOf(c)&&(r.data=d?c+r.data:r.data+c),b},p=(e,r,n)=>e.reduce((e,d,l)=>{let c=r[l];if(c&&c.call){let e=c(n),r=e&&e.props&&e.props.className||/^go/.test(e)&&e;c=r?"."+r:e&&"object"==typeof e?e.props?"":o(e,""):!1===e?"":e}return e+d+(null==c?"":c)},"");function u(e){let r=this||{},n=e.call?e(r.p):e;return i(n.unshift?n.raw?p(n,[].slice.call(arguments,1),r.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(r.p):n),{}):n,t(r.target),r.g,r.o,r.k)}u.bind({g:1});let b,x,k,w=u.bind({k:1});function m(e,r,n,d){o.p=r,b=e,x=n,k=d}function j(e,r){let n=this||{};return function(){let d=arguments;function a(l,c){let h=Object.assign({},l),f=h.className||a.className;n.p=Object.assign({theme:x&&x()},h),n.o=/ *go\d+/.test(f),h.className=u.apply(n,d)+(f?" "+f:""),r&&(h.ref=c);let y=e;return e[0]&&(y=h.as||e,delete h.as),k&&y[0]&&k(h),b(y,h)}return r?r(a):a}}var W=e=>"function"==typeof e,T=(e,r)=>W(e)?e(r):e,C=(d=0,()=>(++d).toString()),dist_b=()=>{if(void 0===l&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");l=!e||e.matches}return l},E=new Map,$=e=>{if(E.has(e))return;let r=setTimeout(()=>{E.delete(e),dist_u({type:4,toastId:e})},1e3);E.set(e,r)},J=e=>{let r=E.get(e);r&&clearTimeout(r)},v=(e,r)=>{switch(r.type){case 0:return{...e,toasts:[r.toast,...e.toasts].slice(0,20)};case 1:return r.toast.id&&J(r.toast.id),{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case 2:let{toast:n}=r;return e.toasts.find(e=>e.id===n.id)?v(e,{type:1,toast:n}):v(e,{type:0,toast:n});case 3:let{toastId:d}=r;return d?$(d):e.toasts.forEach(e=>{$(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===d||void 0===d?{...e,visible:!1}:e)};case 4:return void 0===r.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)};case 5:return{...e,pausedAt:r.time};case 6:let l=r.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+l}))}}},P=[],N={toasts:[],pausedAt:void 0},dist_u=e=>{N=v(N,e),P.forEach(e=>{e(N)})},S={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},I=(e={})=>{let[r,n]=(0,c.useState)(N);(0,c.useEffect)(()=>(P.push(n),()=>{let e=P.indexOf(n);e>-1&&P.splice(e,1)}),[r]);let d=r.toasts.map(r=>{var n,d;return{...e,...e[r.type],...r,duration:r.duration||(null==(n=e[r.type])?void 0:n.duration)||(null==e?void 0:e.duration)||S[r.type],style:{...e.style,...null==(d=e[r.type])?void 0:d.style,...r.style}}});return{...r,toasts:d}},G=(e,r="blank",n)=>({createdAt:Date.now(),visible:!0,type:r,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||C()}),dist_h=e=>(r,n)=>{let d=G(r,e,n);return dist_u({type:2,toast:d}),d.id},dist_n=(e,r)=>dist_h("blank")(e,r);dist_n.error=dist_h("error"),dist_n.success=dist_h("success"),dist_n.loading=dist_h("loading"),dist_n.custom=dist_h("custom"),dist_n.dismiss=e=>{dist_u({type:3,toastId:e})},dist_n.remove=e=>dist_u({type:4,toastId:e}),dist_n.promise=(e,r,n)=>{let d=dist_n.loading(r.loading,{...n,...null==n?void 0:n.loading});return e.then(e=>(dist_n.success(T(r.success,e),{id:d,...n,...null==n?void 0:n.success}),e)).catch(e=>{dist_n.error(T(r.error,e),{id:d,...n,...null==n?void 0:n.error})}),e};var Z=(e,r)=>{dist_u({type:1,toast:{id:e,height:r}})},ee=()=>{dist_u({type:5,time:Date.now()})},D=e=>{let{toasts:r,pausedAt:n}=I(e);(0,c.useEffect)(()=>{if(n)return;let e=Date.now(),d=r.map(r=>{if(r.duration===1/0)return;let n=(r.duration||0)+r.pauseDuration-(e-r.createdAt);if(n<0){r.visible&&dist_n.dismiss(r.id);return}return setTimeout(()=>dist_n.dismiss(r.id),n)});return()=>{d.forEach(e=>e&&clearTimeout(e))}},[r,n]);let d=(0,c.useCallback)(()=>{n&&dist_u({type:6,time:Date.now()})},[n]),l=(0,c.useCallback)((e,n)=>{let{reverseOrder:d=!1,gutter:l=8,defaultPosition:c}=n||{},h=r.filter(r=>(r.position||c)===(e.position||c)&&r.height),f=h.findIndex(r=>r.id===e.id),y=h.filter((e,r)=>r<f&&e.visible).length;return h.filter(e=>e.visible).slice(...d?[y+1]:[0,y]).reduce((e,r)=>e+(r.height||0)+l,0)},[r]);return{toasts:r,handlers:{updateHeight:Z,startPause:ee,endPause:d,calculateOffset:l}}},O=w`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,A=w`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R=w`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,L=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${A} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${R} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,U=w`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,z=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${U} 1s linear infinite;
`,B=w`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,V=w`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,F=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${B} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${V} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,K=j("div")`
  position: absolute;
`,q=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,H=w`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Y=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${H} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:e})=>{let{icon:r,type:n,iconTheme:d}=e;return void 0!==r?"string"==typeof r?c.createElement(Y,null,r):r:"blank"===n?null:c.createElement(q,null,c.createElement(z,{...d}),"loading"!==n&&c.createElement(K,null,"error"===n?c.createElement(L,{...d}):c.createElement(F,{...d})))},ye=e=>`
0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}
`,X=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Q=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(e,r)=>{let n=e.includes("top")?1:-1,[d,l]=dist_b()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ye(n),ge(n)];return{animation:r?`${w(d)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${w(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},et=c.memo(({toast:e,position:r,style:n,children:d})=>{let l=e.height?Ae(e.position||r||"top-center",e.visible):{opacity:0},h=c.createElement(M,{toast:e}),f=c.createElement(Q,{...e.ariaProps},T(e.message,e));return c.createElement(X,{className:e.className,style:{...l,...n,...e.style}},"function"==typeof d?d({icon:h,message:f}):c.createElement(c.Fragment,null,h,f))});m(c.createElement);var Ee=({id:e,className:r,style:n,onHeightUpdate:d,children:l})=>{let h=c.useCallback(r=>{if(r){let i=()=>{d(e,r.getBoundingClientRect().height)};i(),new MutationObserver(i).observe(r,{subtree:!0,childList:!0,characterData:!0})}},[e,d]);return c.createElement("div",{ref:h,className:r,style:n},l)},Re=(e,r)=>{let n=e.includes("top"),d=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:dist_b()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(n?1:-1)}px)`,...n?{top:0}:{bottom:0},...d}},ea=u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ie=({reverseOrder:e,position:r="top-center",toastOptions:n,gutter:d,children:l,containerStyle:h,containerClassName:f})=>{let{toasts:y,handlers:g}=D(n);return c.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...h},className:f,onMouseEnter:g.startPause,onMouseLeave:g.endPause},y.map(n=>{let h=n.position||r,f=Re(h,g.calculateOffset(n,{reverseOrder:e,gutter:d,defaultPosition:r}));return c.createElement(Ee,{id:n.id,key:n.id,onHeightUpdate:g.updateHeight,className:n.visible?ea:"",style:f},"custom"===n.type?T(n.message,n):l?l(n):c.createElement(et,{toast:n,position:h}))}))},er=dist_n}}]);